(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{149:function(e,t,a){e.exports=a(163)},154:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(53),s=a.n(c),i=(a(154),a(8)),o=a.n(i),l=a(32),u=a(13),m=a(3),p=a(178),f=a(183),d=a(5),h=function(e){return Object(d.g)().domain(Object(d.c)(e,(function(e){return e.time}))).range([0,400])},b=function(e){var t=e.chartRef,a=e.data;return Object(n.useEffect)((function(){var e=Object(d.h)(t.current);a.length>0&&e.append("g").style("font","12px sans-serif").attr("stroke","transparent").attr("transform","translate(-2,398)").attr("class","myXaxis"),a.length>0&&e.selectAll(".myXaxis").transition().duration(1500).call(Object(d.a)(h(a)))}),[t,a]),r.a.createElement(r.a.Fragment,null)},g=function(e){return Object(d.f)().domain([0,Object(d.e)(e,(function(e){return+Math.floor(e.close)}))+20]).range([400,0])},j=function(e){var t=e.chartRef,a=e.data;return Object(n.useEffect)((function(){var e=Object(d.h)(t.current);a.length>0&&e.append("g").style("font","12px sans-serif").attr("stroke","transparent").attr("transform","translate(-2,-3)").attr("class","myYaxis"),a.length>0&&e.selectAll(".myYaxis").attr("transform","translate(-2,-3)").transition().duration(1e3).call(Object(d.b)(g(a)))}),[t,a]),r.a.createElement(r.a.Fragment,null)};var v=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){var a=Object(d.h)(t.current),n=a.selectAll(".linePts").data([e.data],(function(e){return e.time}));n.enter().append("path").attr("class","linePts").attr("fill","none").style("stroke","black").style("stroke-width",2).merge(n).transition().duration(2e3).attr("d",Object(d.d)().x((function(t){return h(e.data)(t.time)})).y((function(t){return g(e.data)(Math.floor(t.close))}))),a.selectAll(".textSymbol").remove(),a.append("text").attr("class","textSymbol").text(e.symbol).attr("x",175).attr("y",20)}),[e.data,e.symbol]),r.a.createElement("svg",{ref:t,width:400,height:400,style:{marginTop:"1rem",backgroundColor:"aliceblue",overflow:"inherit"}},r.a.createElement(b,{chartRef:t,data:e.data}),r.a.createElement(j,{chartRef:t,data:e.data}))},x=a(10),O=a(185),y=a(180),E=a(181),k=a(182),w=a(26),S=a(58),C=a.n(S),N=Object(p.a)((function(e){var t;return{root:{flexGrow:1},appBar:{backgroundColor:"grey"},menuButton:{marginRight:e.spacing(2)},title:Object(x.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:(t={position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(w.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(w.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},Object(x.a)(t,e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),Object(x.a)(t,"display","inline-flex"),t),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",right:"-10px"},inputRoot:{color:"inherit"},inputInput:Object(x.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em)",transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function R(e){var t=e.search,a=e.setSearch,n=e.searchClickHandler,c=N();return r.a.createElement("div",{className:c.root},r.a.createElement(O.a,{className:c.appBar,position:"static"},r.a.createElement(y.a,null,r.a.createElement(E.a,{className:c.title,variant:"h6",noWrap:!0},"Financial App using Python"),r.a.createElement("form",{className:c.search,onSubmit:n,noValidate:!0,autoComplete:"off"},r.a.createElement(E.a,{align:"right",style:{margin:"auto 8px"}},"Stock"),r.a.createElement(k.a,{onChange:function(e){return a(e.target.value)},placeholder:"Search\u2026",classes:{root:c.inputRoot,input:c.inputInput},inputProps:{"aria-label":"search"},value:t}),r.a.createElement("div",{className:c.searchIcon,onClick:n},r.a.createElement(C.a,null))))))}a(162);var A=Object(p.a)((function(e){return Object(f.a)({hide:{visibility:"hidden"},show:{visibility:"visible"},ctn:{display:"flex",justifyContent:"space-around",flexWrap:"wrap",flexDirection:"row-reverse",marginBottom:"100px"},chartCtn:{padding:"2rem",border:"3px solid lightblue",width:"min-content",marginTop:"15rem"}})})),I=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),i=Object(u.a)(s,2),p=i[0],f=i[1],d=Object(n.useState)(null),h=Object(u.a)(d,2),b=h[0],g=h[1],j=Object(n.useState)([]),x=Object(u.a)(j,2),O=x[0],y=x[1],E=Object(n.useState)(null),k=Object(u.a)(E,2),w=k[0],S=k[1],C=Object(n.useState)(!1),N=Object(u.a)(C,2),I=N[0],B=N[1],T=A();Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,a,n,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/current-time");case 3:if(!(t=e.sent).ok){e.next=14;break}return e.next=7,t.json();case 7:a=e.sent,(n=new Date).setTime(1e3*a.time),n.toUTCString(),S(n),e.next=15;break;case 14:B(t.statusText);case 15:return e.next=17,fetch("/api/books");case 17:return r=e.sent,e.next=20,r.json();case 20:s=e.sent,c(s),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),B(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var D=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/finance-data/".concat(p));case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,console.log(n),n.error?B(n.error):(y(n.stockData),g(n.symbol),f(""));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement(R,{search:p,setSearch:f,searchClickHandler:D}),I?r.a.createElement("p",{className:"pt-2 text-center text-error"},I):r.a.createElement("div",{className:"main"},r.a.createElement("p",{className:"pt-2 text-center text-success"},w?"Server time: ".concat(w):"Loading..."),r.a.createElement("div",{className:T.ctn},r.a.createElement("div",null,r.a.createElement("ul",null,a.map((function(e,t){return r.a.createElement("li",{key:t},e.title," - ",e.author)})))),r.a.createElement("div",{className:Object(m.a)(T.chartCtn,O.length>0?T.show:T.hide)},r.a.createElement(v,{symbol:b,data:O})))))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root"))}},[[149,1,2]]]);
//# sourceMappingURL=main.c65ac26d.chunk.js.map
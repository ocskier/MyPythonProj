{"version":3,"sources":["Components/Chart/XAxis.js","Components/Chart/YAxis.js","Components/Chart/Chart.js","Components/Header/Header.jsx","App.js","index.js"],"names":["xScale","data","scaleTime","domain","extent","d","time","range","XAxis","chartRef","useEffect","chartEl","select","current","length","append","style","attr","selectAll","transition","duration","call","axisBottom","yScale","scaleLinear","max","Math","floor","close","YAxis","axisLeft","Chart","props","svgRef","useRef","svgElement","u","enter","merge","line","x","y","remove","text","symbol","ref","width","height","marginTop","backgroundColor","overflow","useStyles","makeStyles","theme","root","flexGrow","appBar","menuButton","marginRight","spacing","title","display","breakpoints","up","search","position","borderRadius","shape","fade","palette","common","white","marginLeft","searchIcon","padding","alignItems","justifyContent","right","inputRoot","color","inputInput","paddingLeft","transitions","create","Header","setSearch","searchClickHandler","classes","className","AppBar","Toolbar","Typography","variant","noWrap","onSubmit","noValidate","autoComplete","align","margin","InputBase","onChange","e","target","value","placeholder","input","inputProps","onClick","createStyles","hide","visibility","show","ctn","flexWrap","marginBottom","flexDirection","chartCtn","border","pigPic","zIndex","opacity","springStyles","gridTemplateColumns","gridGap","background","cursor","boxShadow","willChange","App","useState","company","setCompany","searchedStocks","setSearchedSTocks","setSymbol","stockData","setStockData","setTime","error","setError","a","fetch","response","ok","json","date","Date","toUTCString","statusText","map","stock","css","fetchAllData","getStockData","sym","financeDataRaw","financeData","console","log","site","split","getNewSearch","preventDefault","getSavedSearch","oldSym","open","setOpen","springRef","useSpring","config","stiff","from","size","to","rest","transRef","useTransition","item","unique","trail","transform","leave","useChain","src","div","key","clsx","href","rel","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2cc26121.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { axisBottom, extent, scaleTime, select } from \"d3\";\r\n\r\nexport const xScale = function (data) {\r\n  return scaleTime()\r\n    .domain(\r\n      extent(data, function (d) {\r\n        return d.time;\r\n      })\r\n    )\r\n    .range([0, 400]);\r\n};\r\n\r\nexport const XAxis = function ({ chartRef, data }) {\r\n  useEffect(() => {\r\n    const chartEl = select(chartRef.current);\r\n\r\n    data.length > 0 &&\r\n      chartEl\r\n        .append(\"g\")\r\n        .style(\"font\", \"12px sans-serif\")\r\n        .attr(\"stroke\", \"transparent\")\r\n        .attr(\"transform\", \"translate(-2,398)\")\r\n        .attr(\"class\", \"myXaxis\");\r\n\r\n    data.length > 0 &&\r\n      chartEl\r\n        .selectAll(\".myXaxis\")\r\n        .transition()\r\n        .duration(1500)\r\n        .call(axisBottom(xScale(data)));\r\n  }, [chartRef, data]);\r\n\r\n  return <></>;\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { axisLeft, max, scaleLinear, select } from \"d3\";\r\n\r\nexport const yScale = function (data) {\r\n  return scaleLinear()\r\n    .domain([\r\n      0,\r\n      max(data, function (d) {\r\n        return +Math.floor(d.close);\r\n      }) + 20,\r\n    ])\r\n    .range([400, 0]);\r\n};\r\n\r\nexport const YAxis = function ({ chartRef, data }) {\r\n  useEffect(() => {\r\n    const chartEl = select(chartRef.current);\r\n\r\n    data.length > 0 &&\r\n      chartEl\r\n        .append(\"g\")\r\n        .style(\"font\", \"12px sans-serif\")\r\n        .attr(\"stroke\", \"transparent\")\r\n        .attr(\"transform\", \"translate(-2,-3)\")\r\n        .attr(\"class\", \"myYaxis\");\r\n\r\n    data.length > 0 &&\r\n      chartEl\r\n        .selectAll(\".myYaxis\")\r\n        .attr(\"transform\", \"translate(-2,-3)\")\r\n        .transition()\r\n        .duration(1000)\r\n        .call(axisLeft(yScale(data)));\r\n  }, [chartRef, data]);\r\n\r\n  return <></>;\r\n};\r\n","import React, { useRef, useEffect } from \"react\";\r\nimport {\r\n  line,\r\n  select,\r\n} from \"d3\";\r\n\r\nimport {xScale,XAxis} from './XAxis';\r\nimport {yScale,YAxis} from './YAxis';\r\n\r\nfunction Chart(props) {\r\n  const svgRef = useRef();\r\n  useEffect(() => {\r\n    const svgElement = select(svgRef.current);\r\n\r\n    const u = svgElement.selectAll(\".linePts\").data([props.data], function (d) {\r\n      return d.time;\r\n    });\r\n\r\n    u.enter()\r\n      .append(\"path\")\r\n      .attr(\"class\", \"linePts\")\r\n      .attr(\"fill\", \"none\")\r\n      .style(\"stroke\", \"black\")\r\n      .style(\"stroke-width\", 2)\r\n      .merge(u)\r\n      .transition()\r\n      .duration(2000)\r\n      .attr(\r\n        \"d\",\r\n        line()\r\n          .x((d) => xScale(props.data)(d.time))\r\n          .y((d) => yScale(props.data)(Math.floor(d.close)))\r\n      );\r\n    svgElement.selectAll(\".textSymbol\").remove();\r\n    svgElement.append(\"text\").attr('class','textSymbol').text(props.symbol).attr(\"x\", 175).attr(\"y\", 20);\r\n  }, [props.data, props.symbol]);\r\n\r\n  return (\r\n    <svg\r\n      ref={svgRef}\r\n      width={400}\r\n      height={400}\r\n      style={{\r\n        marginTop: \"1rem\",\r\n        backgroundColor: \"aliceblue\",\r\n        overflow: \"inherit\",\r\n      }}\r\n    >\r\n      <XAxis chartRef={svgRef} data={props.data} />\r\n      <YAxis chartRef={svgRef} data={props.data} />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default Chart;\r\n","import React from 'react';\r\n\r\nimport { AppBar, InputBase, Toolbar, Typography } from \"@material-ui/core\";\r\nimport { fade, makeStyles } from '@material-ui/core/styles';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  appBar: {\r\n    backgroundColor: 'grey'\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    display: 'none',\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(1),\r\n      width: 'auto',\r\n    },\r\n    display: \"inline-flex\",\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    // pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    right: '-10px'\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    paddingLeft: `calc(1em)`,\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: '12ch',\r\n      '&:focus': {\r\n        width: '20ch',\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function Header({search, setSearch, searchClickHandler}) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar className={classes.appBar} position=\"static\">\r\n        <Toolbar>\r\n          {/* <IconButton\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n          >\r\n            <MenuIcon />\r\n          </IconButton> */}\r\n          <Typography className={classes.title} variant=\"h6\" noWrap>\r\n            Financial App using Python\r\n          </Typography>\r\n          <form  className={classes.search} onSubmit={searchClickHandler} noValidate autoComplete=\"off\">\r\n            <Typography align=\"right\" style={{ margin: \"auto 8px\" }}>\r\n                  Stock\r\n            </Typography>\r\n            <InputBase\r\n              onChange={(e) => setSearch(e.target.value)}\r\n              placeholder=\"Search…\"\r\n              classes={{\r\n                root: classes.inputRoot,\r\n                input: classes.inputInput,\r\n              }}\r\n              inputProps={{ 'aria-label': 'search' }}\r\n              value={search}\r\n            />\r\n            <div className={classes.searchIcon} onClick={searchClickHandler}>\r\n              <SearchIcon />\r\n            </div>\r\n          </form>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport { animated, useTransition, useSpring, useChain, config } from \"react-spring\";\r\nimport clsx from 'clsx';\r\n\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Chart from \"./Components/Chart\";\r\nimport Header from \"./Components/Header\";\r\n\r\nimport './App.css';\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    hide: {\r\n      visibility: \"hidden\",\r\n    },\r\n    show: {\r\n      visibility: \"visible\",\r\n    },\r\n    ctn: {\r\n      display: \"flex\",\r\n      justifyContent: \"space-around\",\r\n      flexWrap: \"wrap\",\r\n      marginBottom: \"120px\",\r\n      flexDirection: 'row-reverse',\r\n    },\r\n    chartCtn: {\r\n      padding: \"2rem\",\r\n      border: \"3px solid lightblue\",\r\n      width: \"min-content\",\r\n      marginTop: \"8rem\",\r\n    },\r\n    pigPic: {\r\n      position: 'absolute',\r\n      width: '100%',\r\n      zIndex: -1,\r\n      opacity: 0.66,\r\n    }\r\n  })\r\n);\r\n\r\nconst springStyles = {\r\n  ctn: {\r\n    position: 'relative',\r\n    display: 'grid',\r\n    gridTemplateColumns: 'repeat(4, minmax(100px, 1fr))',\r\n    gridGap: '25px',\r\n    padding: '25px',\r\n    background: 'white',\r\n    borderRadius: '5px',\r\n    cursor: 'pointer',\r\n    boxShadow: '0px 10px 10px -5px rgba(0, 0, 0, 0.05)',\r\n    willChange: 'width, height',\r\n  },\r\n  item: {\r\n    background: \"white\",\r\n    borderRadius: \"5px\",\r\n    willChange: \"transform, opacity\",\r\n    height: 'fit-content'\r\n  },\r\n};\r\n\r\nexport const App = () => {\r\n  const [company, setCompany] = useState(\"\")\r\n  const [searchedStocks, setSearchedSTocks] = useState([]);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [symbol, setSymbol] = useState(null);\r\n  const [stockData, setStockData] = useState([]);\r\n  const [time, setTime] = useState(null);\r\n  const [error, setError] = useState(false);\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    async function fetchAllData() {\r\n      try {\r\n        const response = await fetch(\"/current-time\");\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          const date = new Date();\r\n          date.setTime(data.time * 1000);\r\n          date.toUTCString();\r\n          setTime(date);\r\n        } else {\r\n          setError(response.statusText);\r\n        }\r\n        setSearchedSTocks([\"SRPT\", \"ACAD\"].map(stock=>{\r\n          return {\r\n            symbol: stock,\r\n            css: \"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)\",\r\n          };\r\n        }));\r\n      } catch (err) {\r\n        setError(err);\r\n      }\r\n    }\r\n    fetchAllData();\r\n  }, []);\r\n\r\n  const getStockData = async (sym) => {\r\n    const financeDataRaw = await fetch(`/finance-data/${sym}`);\r\n    const financeData = await financeDataRaw.json();\r\n    console.log(financeData);\r\n    if (!financeData.error) {\r\n      setStockData(\r\n        financeData.stockData\r\n      );\r\n      setCompany(financeData.site.split('http://www.')[1]);\r\n      setSymbol(financeData.symbol);\r\n      search && setSearch('');\r\n    } else {\r\n      setError(financeData.error);\r\n    }\r\n  };\r\n\r\n  const getNewSearch = async (e) => {\r\n    e.preventDefault();\r\n    getStockData(search);\r\n  }\r\n\r\n  const getSavedSearch = async (oldSym)=> {\r\n    getStockData(oldSym)\r\n  }\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const springRef = useRef();\r\n  const { size, opacity, ...rest } = useSpring({\r\n    ref: springRef,\r\n    config: config.stiff,\r\n    from: { size: \"20%\", background: \"hotpink\" },\r\n    to: { size: open ? \"100%\" : \"20%\", background: open ? \"lightblue\" : \"lightgrey\" },\r\n  });\r\n\r\n  const transRef = useRef();\r\n  const transitions = useTransition(\r\n    open ? searchedStocks : [],\r\n    (item) => item.symbol,\r\n    {\r\n      ref: transRef,\r\n      unique: true,\r\n      trail: 400 / searchedStocks.length,\r\n      from: { opacity: 0, transform: \"scale(0)\" },\r\n      enter: { opacity: 1, transform: \"scale(1)\" },\r\n      leave: { opacity: 0, transform: \"scale(0)\" },\r\n    }\r\n  );\r\n\r\n  // This will orchestrate the two animations above, comment the last arg and it creates a sequence\r\n  useChain(open ? [springRef, transRef] : [transRef, springRef], [\r\n    0,\r\n    open ? 0.1 : 0.6,\r\n  ]);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Header\r\n        search={search}\r\n        setSearch={setSearch}\r\n        searchClickHandler={getNewSearch}\r\n      />\r\n      <img\r\n        className={classes.pigPic}\r\n        src=\"/fabian-blank-pElSkGRA2NU-unsplash.jpg\"\r\n      ></img>\r\n      {!error ? (\r\n        <div className=\"main\">\r\n          <p className=\"pt-2 text-center text-success\">\r\n            {!time ? 'Loading...' : `Server time: ${time}`}\r\n          </p>\r\n          <div className={classes.ctn}>\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n              }}\r\n            >\r\n              {!open && <span style={{ marginLeft: '6%' }}>Stocks</span>}\r\n              <animated.div\r\n                style={{\r\n                  ...springStyles.ctn,\r\n                  ...rest,\r\n                  width: size,\r\n                  height: size,\r\n                }}\r\n                onClick={() => setOpen((open) => !open)}\r\n              >\r\n                {transitions.map(({ item, key, props }) => (\r\n                  <animated.div\r\n                    key={key}\r\n                    style={{ ...props, ...springStyles.item }}\r\n                  >\r\n                    <button\r\n                      onClick={() => getSavedSearch(item.symbol)}\r\n                      style={{ background: item.css, width: '100%' }}\r\n                    >\r\n                      {item.symbol}\r\n                    </button>\r\n                  </animated.div>\r\n                ))}\r\n              </animated.div>\r\n            </div>\r\n            <div\r\n              className={clsx(\r\n                classes.chartCtn,\r\n                stockData.length > 0 ? classes.show : classes.hide\r\n              )}\r\n            >\r\n              <img src={`https://logo.uplead.com/${company}`} width=\"100\"></img>\r\n              <Chart symbol={symbol} data={stockData}></Chart>\r\n            </div>\r\n          </div>\r\n          <a\r\n            href=\"https://www.uplead.com/?_ga=2.255801416.1914784608.1615136862-1413120390.1615136862\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            Logos provided by UpLead\r\n          </a>\r\n        </div>\r\n      ) : (\r\n        <p className=\"pt-2 text-center text-error\">{error}</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}